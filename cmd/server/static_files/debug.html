
<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
    <title>Debug Chat</title>

    <script>
      function chat() {
          alert("Chat");
          let text = document.getElementById('tfChat').value
          alert(text);
          const response = fetch("http://localhost:2302/chat/basic", {
            method: "POST",
            body: JSON.stringify({
              name: "Karthi",
              text: text,
            }),
            headers: {
              "Content-type": "application/json; charset=UTF-8"
            }
          }).then(response => response.text())
        .then(data => { document.getElementById('response').innerHTML = data; });
        alert("Response: " + response);
        let text = document.getElementById('tfChat').value
          const response = fetch("https://chat-assistant-gvzssrq4na-uc.a.run.app/chat/basic", {
            method: "POST",
            body: JSON.stringify({
              name: "Karthi",
              text: text,
            }),
            headers: {
              "Content-type": "application/json; charset=UTF-8"
            }
          }).then(response => response.text())
        .then(data => { document.getElementById('response').innerHTML = data; });
        alert("Trying https://chat-assistant-gvzssrq4na-uc.a.run.app ");
      }
    </script>
    </head>
<body>
  <h1 class="text-3xl font-bold underline">
    Response:
  </h1>
<div id="response">

</div>
  <h1 class="text-3xl font-bold underline">
    Prompt:
  </h1>
<div id="prompt">
    <form id="form" onsubmit="return setAction(this)">                                       
        <textarea id="tfChat" name="prompt" cols="30" rows="10" placeholder="Your prompt..." required></textarea>
        <br/>
        <button id="btnChat" 
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full
                action="#" onclick="event.preventDefault();  chat();">
          Chat
        </button>        
    </form>
</div>

</body> 
</html>
